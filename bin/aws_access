#!/usr/bin/env ruby

require_relative '../deployment'

unless (provider = Aws::STS::Client.new.config.credentials)
  abort 'AWS credentials not found. Check your AWS config and try again.'
end

unless provider.class == Aws::Google
  puts "WARNING: AWS is currently using #{provider}, not Google credentials."
end

arn = Aws::STS::Client.new.get_caller_identity.arn
puts "AWS access: #{arn.split('assumed-role/').last}"
