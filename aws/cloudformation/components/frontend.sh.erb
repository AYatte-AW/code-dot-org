#!/bin/bash -x
# This line causes the LaunchConfiguration to be replaced on each new commit.
COMMIT=<%=commit%>

<%=build_frontend%>

# Signal CompleteLifecycleAction, in case the frontend was launched from an Auto Scaling process.
<%=complete_lifecycle 'WebServerHook-${AWS::StackName}', 'Frontends-${AWS::StackName}'%> || true
# Signal CloudFormation, in case the frontend was launched from a CloudFormation stack update.
<%=signal_resource 'Frontends'%> || true
